{"version":3,"file":"node_modules_capacitor_local-notifications_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/local-notifications/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class LocalNotificationsWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.pending = [];\n        this.deliveredNotifications = [];\n        this.hasNotificationSupport = () => {\n            if (!('Notification' in window) || !Notification.requestPermission) {\n                return false;\n            }\n            if (Notification.permission !== 'granted') {\n                // don't test for `new Notification` if permission has already been granted\n                // otherwise this sends a real notification on supported browsers\n                try {\n                    new Notification('');\n                }\n                catch (e) {\n                    if (e.name == 'TypeError') {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n    }\n    async getDeliveredNotifications() {\n        const deliveredSchemas = [];\n        for (const notification of this.deliveredNotifications) {\n            const deliveredSchema = {\n                title: notification.title,\n                id: parseInt(notification.tag),\n                body: notification.body,\n            };\n            deliveredSchemas.push(deliveredSchema);\n        }\n        return {\n            notifications: deliveredSchemas,\n        };\n    }\n    async removeDeliveredNotifications(delivered) {\n        for (const toRemove of delivered.notifications) {\n            const found = this.deliveredNotifications.find(n => n.tag === String(toRemove.id));\n            found === null || found === void 0 ? void 0 : found.close();\n            this.deliveredNotifications = this.deliveredNotifications.filter(() => !found);\n        }\n    }\n    async removeAllDeliveredNotifications() {\n        for (const notification of this.deliveredNotifications) {\n            notification.close();\n        }\n        this.deliveredNotifications = [];\n    }\n    async createChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async deleteChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async listChannels() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async schedule(options) {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        for (const notification of options.notifications) {\n            this.sendNotification(notification);\n        }\n        return {\n            notifications: options.notifications.map(notification => ({\n                id: notification.id,\n            })),\n        };\n    }\n    async getPending() {\n        return {\n            notifications: this.pending,\n        };\n    }\n    async registerActionTypes() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async cancel(pending) {\n        this.pending = this.pending.filter(notification => !pending.notifications.find(n => n.id === notification.id));\n    }\n    async areEnabled() {\n        const { display } = await this.checkPermissions();\n        return {\n            value: display === 'granted',\n        };\n    }\n    async requestPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(await Notification.requestPermission());\n        return { display };\n    }\n    async checkPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(Notification.permission);\n        return { display };\n    }\n    transformNotificationPermission(permission) {\n        switch (permission) {\n            case 'granted':\n                return 'granted';\n            case 'denied':\n                return 'denied';\n            default:\n                return 'prompt';\n        }\n    }\n    sendPending() {\n        var _a;\n        const toRemove = [];\n        const now = new Date().getTime();\n        for (const notification of this.pending) {\n            if (((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) &&\n                notification.schedule.at.getTime() <= now) {\n                this.buildNotification(notification);\n                toRemove.push(notification);\n            }\n        }\n        this.pending = this.pending.filter(notification => !toRemove.find(n => n === notification));\n    }\n    sendNotification(notification) {\n        var _a;\n        if ((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) {\n            const diff = notification.schedule.at.getTime() - new Date().getTime();\n            this.pending.push(notification);\n            setTimeout(() => {\n                this.sendPending();\n            }, diff);\n            return;\n        }\n        this.buildNotification(notification);\n    }\n    buildNotification(notification) {\n        const localNotification = new Notification(notification.title, {\n            body: notification.body,\n            tag: String(notification.id),\n        });\n        localNotification.addEventListener('click', this.onClick.bind(this, notification), false);\n        localNotification.addEventListener('show', this.onShow.bind(this, notification), false);\n        localNotification.addEventListener('close', () => {\n            this.deliveredNotifications = this.deliveredNotifications.filter(() => !this);\n        }, false);\n        this.deliveredNotifications.push(localNotification);\n        return localNotification;\n    }\n    onClick(notification) {\n        const data = {\n            actionId: 'tap',\n            notification,\n        };\n        this.notifyListeners('localNotificationActionPerformed', data);\n    }\n    onShow(notification) {\n        this.notifyListeners('localNotificationReceived', notification);\n    }\n}\n"],"names":["WebPlugin","LocalNotificationsWeb","constructor","arguments","pending","deliveredNotifications","hasNotificationSupport","window","Notification","requestPermission","permission","e","name","getDeliveredNotifications","deliveredSchemas","notification","deliveredSchema","title","id","parseInt","tag","body","push","notifications","removeDeliveredNotifications","delivered","toRemove","found","find","n","String","close","filter","removeAllDeliveredNotifications","createChannel","unimplemented","deleteChannel","listChannels","schedule","options","unavailable","sendNotification","map","getPending","registerActionTypes","cancel","areEnabled","display","checkPermissions","value","requestPermissions","transformNotificationPermission","sendPending","_a","now","Date","getTime","at","buildNotification","diff","setTimeout","localNotification","addEventListener","onClick","bind","onShow","data","actionId","notifyListeners"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}