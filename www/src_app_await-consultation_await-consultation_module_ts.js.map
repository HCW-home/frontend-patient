{"version":3,"file":"src_app_await-consultation_await-consultation_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAmD;AACV;AACM;AACF;AACU;AAEV;AAEqB;AAElE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2EAAqB;KACjC;CACF,CAAC;AAYK,IAAM,2BAA2B,GAAjC,MAAM,2BAA2B;;AAA3B,2BAA2B;IAVvC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yDAAU;YACV,kEAAqB,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,2EAAqB,CAAC;KACtC,CAAC;GACW,2BAA2B;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1ByB;AACxB;AACuB;AACS;AAQlE,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAIhC,YACU,mBAAwC,EACxC,MAAc,EACd,mBAAwC;QAFxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,WAAM,GAAN,MAAM,CAAQ;QACd,wBAAmB,GAAnB,mBAAmB,CAAqB;QAJlD,kBAAa,GAAmB,EAAE;IAO9B,CAAC;IAEL,QAAQ;QAEN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;YAC3G,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,YAAY,CAAC;YAC9C,IAAI,YAAY,EAAE;gBAEhB,IAAI,CAAC,YAAY,GAAG,YAAY;gBAChC,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;gBAC9D,0CAA0C;gBAC1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACrF,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,KAAK,CAAC;YAC9C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY;YAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,WAAW;QAET,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;IAClD,CAAC;;;;;;;AApCU,qBAAqB;IALjC,wDAAS,CAAC;QACT,QAAQ,EAAE,wBAAwB;QAClC,+EAA6C;;KAE9C,CAAC;yDAM+B,sEAAmB,oBAAnB,sEAAmB,oDAChC,mDAAM,oBAAN,mDAAM,oDACO,uEAAmB,oBAAnB,uEAAmB;GAPvC,qBAAqB;AAAA","sources":["./src/app/await-consultation/await-consultation.module.ts","./src/app/await-consultation/await-consultation.page.ts"],"sourcesContent":["import { I18nModule } from './../i18n/i18n.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AwaitConsultationPage } from './await-consultation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AwaitConsultationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    I18nModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AwaitConsultationPage]\n})\nexport class AwaitConsultationPageModule { }\n","import { Subscription } from 'rxjs';\nimport { SocketEventsService } from './../socket-events.service';\nimport { Router } from '@angular/router';\nimport { ConsultationService } from './../consultation.service';\nimport { Component, OnInit, OnDestroy, Directive  } from '@angular/core';\n\n\n@Component({\n  selector: 'app-await-consultation',\n  templateUrl: './await-consultation.page.html',\n  styleUrls: ['./await-consultation.page.scss'],\n})\nexport class AwaitConsultationPage implements OnInit, OnDestroy {\n\n  consultation;\n  subscriptions: Subscription[] = []\n  constructor(\n    private consultationService: ConsultationService,\n    private router: Router,\n    private socketEventsService: SocketEventsService\n\n\n  ) { }\n\n  ngOnInit() {\n\n    this.subscriptions.push(this.consultationService.getTranslatorOrGuestConsultation().subscribe(consultation => {\n      console.log('got consultation ', consultation)\n      if (consultation) {\n\n        this.consultation = consultation\n        localStorage.setItem('currentConsultation', consultation._id);\n        // localStorage.removeItem('inviteToken');\n        this.router.navigate(['consultation', this.consultation._id]);\n      }\n    }))\n\n    this.subscriptions.push(this.socketEventsService.onNewConsultation().subscribe(event => {\n      console.log('New consultation EVvent ', event)\n      this.consultation = event.data.consultation\n      this.router.navigate(['consultation', this.consultation.id]);\n    }))\n\n  }\n\n  ngOnDestroy() {\n\n    this.subscriptions.forEach(s => s.unsubscribe())\n  }\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}